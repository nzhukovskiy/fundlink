<div class="form-container">
    <h3 *ngIf="formType === FormType.UPDATE">Редактирование информации о стартапе</h3>
    <form class="register-form" [formGroup]="startupEditFormGroup">
        <ng-container *ngIf="formType === FormType.CREATE">
            <div class="mb-3">
                <label for="registerEmailField" class="form-label">Адрес электронной почты</label>
                <input type="email" formControlName="email" class="form-control" id="registerEmailField"
                       placeholder="name@example.com">
            </div>
            <div class="mb-3">
                <label for="registerPasswordField" class="form-label">Пароль</label>
                <input class="form-control" formControlName="password" type="password" id="registerPasswordField">
            </div>
        </ng-container>

        <div class="mb-3">
            <label for="registerNameField" class="form-label">Название</label>
            <input type="text" formControlName="title" class="form-control" id="registerNameField"
                   placeholder="Мой стартап">
        </div>
        <div class="mb-3">
            <label for="exampleFormControlTextarea1" class="form-label">Описание стартапа</label>
            <textarea formControlName="description" class="form-control" id="exampleFormControlTextarea1"
                      rows="3"></textarea>
        </div>
        <div class="mb-3">
            <label for="formFile" class="form-label">Логотип</label>
            <div class="startup-logo-group">
                <input #startupLogoInput (change)="onImageChanged($event)" class="form-control" type="file"
                       id="formFile">
                <mat-icon (click)="removeImage()">close</mat-icon>
            </div>
            <img #startupLogoPreview class="startup-logo-preview" alt="" src="">
        </div>
        <!--    <div class="mb-3">-->
        <!--      <label for="industryTypeField" class="form-label">Сектор</label>-->
        <!--      <select formControlName="industry" class="form-select" id="industryTypeField">-->
        <!--        <option *ngFor="let industry of industryTypes">{{industry}}</option>-->
        <!--      </select>-->
        <!--    </div>-->
        <div class="mb-3">
            <label for="registerNameField" class="form-label">Необходимое финансирование
                <app-input-help-tooltip tooltipMessage="Общее финансирование, которое предполагается получить в рамках стартапа; это значение может помочь инвесторам понять ваши долгосрочные планы"></app-input-help-tooltip>
            </label>
            <input type="text" formControlName="fundingGoal" class="form-control" id="fundingGoalField"
                   placeholder="50000">
        </div>
        <div *ngIf="formType === FormType.CREATE" class="mb-3">
            <label for="registerNameField" class="form-label">Начальное финансирование
                <app-input-help-tooltip tooltipMessage="Начальное финансирование, которое вы планируете получить для запуска стартапа. Это значение будет использовано при создании первого раунда финансирования"></app-input-help-tooltip>
            </label>
            <input type="text" formControlName="initialFundingGoal" class="form-control" id="initialFundingGoalField"
                   placeholder="50000">
        </div>
        <div class="mb-3">
            <label for="tamField" class="form-label">Объем рынка TAM, млн руб.</label>
            <input type="text" formControlName="tamMarket" class="form-control" id="tamField" placeholder="50000">
        </div>
        <div class="mb-3">
            <label for="samField" class="form-label">Объем рынка SAM, млн руб.</label>
            <input type="text" formControlName="samMarket" class="form-control" id="samField" placeholder="50000">
        </div>
        <div class="mb-3">
            <label for="somField" class="form-label">Объем рынка SOM, млн руб.</label>
            <input type="text" formControlName="somMarket" class="form-control" id="somField" placeholder="50000">
        </div>
        <div class="mb-3">
            <label for="teamExperienceField" class="form-label">Опыт команды</label>
            <input type="number" formControlName="teamExperience" class="form-control" id="teamExperienceField"
                   placeholder="5">
        </div>

        <p>Ниже вам необходимо ввести прогнозирумые метрики на срок в 5 лет. Эти данные используются для вычисления
            стоимости стартапа, что облегчит задачу инвесторам. Если у вас нет прогнозируемых оценок, оставьте поля
            пустыми</p>
        <p>Прибыль до вычета процентов и налогов</p>
        <div class="five-years-metrics-container" formArrayName="revenuePerYear">
            <div *ngFor="let control of revenuePerYear.controls; let i = index" class="mb-3">
                <label [for]="'arrayField' + i" class="form-label">{{i + 1}} год</label>
                <input type="number" [formControlName]="i" class="form-control" [id]="'arrayField' + i">
            </div>
        </div>
        <p>Вложения в основные средства компании</p>
        <div class="five-years-metrics-container" formArrayName="capitalExpenditures">
            <div *ngFor="let control of capitalExpenditures.controls; let i = index" class="mb-3">
                <label [for]="'arrayField' + i" class="form-label">{{i + 1}} год</label>
                <input type="number" [formControlName]="i" class="form-control" [id]="'arrayField' + i">
            </div>
        </div>
        <p>Изменения в оборотном капитале</p>
        <div class="five-years-metrics-container" formArrayName="changesInWorkingCapital">
            <div *ngFor="let control of changesInWorkingCapital.controls; let i = index" class="mb-3">
                <label [for]="'arrayField' + i" class="form-label">{{i + 1}} год</label>
                <input type="number" [formControlName]="i" class="form-control" [id]="'arrayField' + i">
            </div>
        </div>
        <p>Амортизационные расходы</p>
        <div class="five-years-metrics-container" formArrayName="deprecationAndAmortization">
            <div *ngFor="let control of deprecationAndAmortization.controls; let i = index" class="mb-3">
                <label [for]="'arrayField' + i" class="form-label">{{i + 1}} год</label>
                <input type="number" [formControlName]="i" class="form-control" [id]="'arrayField' + i">
            </div>
        </div>
        <div class="form-check form-switch auto-approve-group">
            <input formControlName="autoApproveInvestments" class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
            <label class="form-check-label" for="flexSwitchCheckDefault">Автоматическое подтверждение инвестиций<app-input-help-tooltip tooltipMessage="Если выключить эту опцию, то для принятия инвестиции вам будет нужно подтверждать ее вручную"></app-input-help-tooltip></label>
        </div>
        <div class="mb-3 register-submit-button-group">
            <button type="submit" (click)="handleFormSubmission()" class="btn btn-primary mb-3 action-btn">
                {{formType === FormType.UPDATE ? "Обновить информацию" : "Зарегистрироваться"}}
            </button>
        </div>
    </form>
</div>

