<div class="investor-profile-top-group">
    <h3>{{investor?.name}} {{investor?.surname}}</h3>
    <div class="mb-3 button-group">
        <a [routerLink]="['/investors/edit']" class="btn btn-primary mb-3 action-btn">
            <mat-icon>edit</mat-icon>
            Редактировать</a>
    </div>
</div>
<p>Email: {{investor?.email}}</p>
<h4>Портфолио</h4>
<div class="startups-chart-container">
    <canvas *ngIf="startups.length; else noInvestmentsData"
            baseChart
            [data]="lineChartData"
            [type]="'pie'"
    ></canvas>
    <ng-template #noInvestmentsData>
        Вы пока не совершили ни одной инвестиции
    </ng-template>
</div>
<h4>Мои стартапы</h4>
<div class="accordion" id="accordionExample">
    <div class="accordion-item" *ngFor="let startup of startups; index as i">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    [attr.data-bs-target]="'#collapse' + i" aria-expanded="true" aria-controls="collapseOne">
                {{startup.title}}
            </button>
        </h2>
        <div id="collapse{{i}}" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
            <div class="accordion-body">
<!--                <div>-->
<!--                    <p>Всего инвестировано: {{startup.totalInvestment}}</p>-->
<!--                    <p>Моя доля: {{startup.sharePercentage | number}} %</p>-->
<!--                    <ng-template #noInvestmentsYet>-->
<!--                        Здесь пока пусто-->
<!--                    </ng-template>-->
<!--                </div>-->
                <div class="startup-info-card">
                    <div class="startup-header">
                        <h3><a class="startup-link" [routerLink]="['/startups', startup.id]">{{startup.title}}</a></h3>
                    </div>
                    <div class="startup-details">
                        <div class="investment-info">
                            <span class="label">Всего инвестировано Вами:</span>
                            <span class="value">{{startup.totalInvestment | number}}</span>
                        </div>
                        <div class="share-info">
                            <span class="label">Ваша доля:</span>
                            <span class="value">{{startup.sharePercentage | number}} %</span>
                        </div>
                        <div class="investor-share-chart">
                            <canvas
                                baseChart
                                [data]="startupsShareData[i]"
                                [type]="'doughnut'"
                            ></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<div>
    <h4>Совершенные инвестиции</h4>
    <table class="table table-striped">
        <thead>
        <tr>
            <th scope="col">Дата</th>
            <th scope="col">Размер</th>
            <th scope="col">Статус</th>
            <th scope="col">Тип</th>
            <th scope="col">Стартап</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let investment of investments">
            <td>{{investment.date | date:"d.LL.y в H:mm"}}</td>
            <td>
                {{investment.amount}}
            </td>
            <td>{{ investment.stage }}</td>
            <td>{{ investment.approvalType }}</td>
            <td>
                <a [routerLink]="['/startups', investment.startup_id]">{{investment.startup_title}}</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
