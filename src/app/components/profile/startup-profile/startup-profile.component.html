<div class="startup-profile-top-group">
  <h2>Профиль стартапа {{startup?.title}}</h2>
  <div class="mb-3 edit-funding-round-button-group">
    <a [routerLink]="['/startups', startup?.id, 'edit']" class="btn btn-primary mb-3 action-btn"><mat-icon>edit</mat-icon>Редактировать</a>
  </div>
</div>
<h4>Общая цель: {{startup?.fundingGoal!}} руб.</h4>
<p style="white-space: pre-line;">{{startup?.description}}</p>
<div>Объем рынка TAM {{startup?.tam}} млн руб.</div>
<div>Объем рынка SAM {{startup?.sam}} млн руб.</div>
<div>Объем рынка SOM {{startup?.som}} млн руб.</div>
<a *ngIf="startup?.presentationPath" [href]="'http://localhost:3000/uploads/' + startup?.presentationPath">Презентация</a>
<div class="mb-3">
  <label for="formFile" class="form-label">Загрузить презентацию</label>
  <div class="book-image-group">
    <input (change)="onImageChanged($event)"  class="form-control" type="file" id="formFile">
  </div>
</div>
<div class="startup-profile-top-group">
  <h4>Раунды инвестирования:</h4>
  <div *ngIf="startup?.fundingRounds!.length < 7" class="mb-3 edit-funding-round-button-group">
    <a [routerLink]="['/fundingRounds/create']" type="submit" class="btn btn-primary mb-3 action-btn"><mat-icon>add</mat-icon>Добавить раунд</a>
  </div>
</div>
<div *ngFor="let fundingRound of startup?.fundingRounds" class="card funding-round-card" style="width: 18rem;">
  <div class="card-body" [ngClass]="fundingRound.isCurrent ? 'current-round-card' : ''">
    <div class="funding-round-top-group">
      <h5 class="card-title">{{fundingRound.stage}}</h5>
      <div class="buttons">
        <div class="mb-3 edit-funding-round-button-group">
          <a [routerLink]="['/fundingRounds', fundingRound.id, 'edit']" class="btn btn-primary mb-3 action-btn"><mat-icon>edit</mat-icon>Редактировать</a>
        </div>
        <div class="mb-3 edit-funding-round-button-group">
          <a (click)="deleteFundingRound(fundingRound.id)"  class="btn btn-danger mb-3 action-btn"><mat-icon>delete</mat-icon>Удалить</a>
        </div>
      </div>
    </div>
    <p>Цель: {{fundingRound.fundingGoal}} руб.</p>
    <p>Собрано: {{fundingRound.currentRaised}} руб.</p>
    <p>Начало: {{fundingRound.startDate | date: "dd.MM.yy"}}</p>
    <p>Окончание: {{fundingRound.endDate | date: "dd.MM.yy"}}</p>
  </div>
</div>
<div>
  <h4>Инвесторы</h4>
  <table class="table table-striped">
    <thead>
    <tr>
      <th scope="col">Имя</th>
      <th scope="col">Фамилия</th>
      <th scope="col">Общий размер инвестиций</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let investor of investors">
      <td>{{investor.name}}</td>
      <td>{{investor.surname}}</td>
      <td>{{investor.totalinvestment}}</td>
    </tr>
    </tbody>
  </table>
</div>
